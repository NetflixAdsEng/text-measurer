parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"GSOu":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=.2,a=["fontFamily","fontWeight","fontSize"],h=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.fontFamily,a=void 0===n?"Times":n,h=i.fontWeight,r=void 0===h?"normal":h,o=i.fontSize,s=void 0===o?200:o,c=i.canvasHeight,u=i._centerText,l=void 0!==u&&u,f=i._bgColor,v=i._textColor;t(this,e),this.canvasHeight=c,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.text="",this._centerText=l,this._bgColor=f,this._textColor=v,this.updateFont({fontFamily:a,fontWeight:r,fontSize:s}),this._initializeCanvas(this.text)}return i(e,[{key:"updateFont",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.keys(e).filter(function(t){return a.includes(t)});i.length&&i.forEach(function(i){e[i]&&("fontSize"===e[i]?t[i]=parseInt(e[i],10):t[i]=e[i])})}},{key:"_initializeCanvas",value:function(t){this.canvas.width=this.fontSize*t.length;var e=Math.round(n*this.fontSize),i=this.fontSize+2*e;this.canvasHeight&&this.canvasHeight>=i?(this.canvas.height=this.canvasHeight,this.pad=Math.round((this.canvasHeight-this.fontSize)/2)):(this.pad=e,this.canvas.height=i),this._center=this.canvas.height/2,this.context.font="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFamily),this.context.textBaseline="top",this.context.textAlign="center"}},{key:"renderText",value:function(t){var e=this.canvas,i=this.context;t!==this.text&&(delete this._topY,delete this._bottomY,delete this._centerY,this.text=t||this.text,this._initializeCanvas(this.text),i.clearRect(0,0,e.width,e.height),i.fillText(this.text,Math.round(e.width/2),this.pad,e.width),this.imageData=i.getImageData(0,0,e.width,e.height))}},{key:"_calcMetric",value:function(t,e,i){return(!this.imageData||t&&t!==this.text)&&this.renderText(t),void 0===this[e]&&(this[e]=i(this.imageData)),this[e]}},{key:"calcTopY",value:function(t){return this._calcMetric(t,"_topY",u)}},{key:"calcBottomY",value:function(t){return this._calcMetric(t,"_bottomY",l)}},{key:"calcCenterY",value:function(t,e){var i=e.useCenterOfMass,n=void 0!==i&&i;return this._calcMetric(t,"_centerY",n?s:c)}},{key:"getCenterOfText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.centerText,n=void 0!==i&&i,a=e.useCenterOfMass,h=void 0===a||a,r=e.usePerChar,o=void 0!==r&&r,u=this.canvas,l=this.context;l.clearRect(0,0,u.width,u.height),this.text=t||this.text,this._initializeCanvas(this.text);var f,v=h?s:c;o?f=this.getAvgOfPerLetterMedian(this.text,v):(l.fillText(this.text,Math.round(u.width/2),this.pad,u.width),f=v(l.getImageData(0,0,u.width,u.height)));if(this._center=f.center,this._topY=f.topY,this._bottomY=f.bottomY,n||this._bgColor||this._textColor){var d=n?u.height/2-this._center:0;this._bgColor?(l.fillStyle=this._bgColor,l.fillRect(0,0,u.width,u.height)):l.clearRect(0,0,u.width,u.height),this._textColor&&(l.fillStyle=this._textColor),l.fillText(this.text,Math.round(u.width/2),this.pad+d,u.width)}return this._center}},{key:"getCenteringOffset",value:function(t,e){var i=this.getCenterOfText(t,e);context.fillText(this.text,Math.round(canvas.width/2),this.pad,canvas.width),this.imageData=context.getImageData(0,0,canvas.width,canvas.height);(useCenterOfMass?s:c)(this.imageData);return this.canvas.height/2-i}},{key:"getCenterHeightPercentage",value:function(t,e){var i=this.getCenterOfText(t,e),n=this.pad;return(i-n)/(this.canvas.height-this.pad-n)}},{key:"getAvgOfPerLetterMedian",value:function(t,e){var i=this,n=Array.prototype.filter.call(t,function(t){return!/\s/.test(t)}).map(function(t){i._initializeCanvas(t),i.context.fillText(t,Math.round(i.canvas.width/2),i.pad,i.canvas.width);var n=i.context.getImageData(0,0,i.canvas.width,i.canvas.height),a=e(n);return a.width=i.canvas.width,a});this._initializeCanvas(t);var a=r(n.map(function(t){return t.width}));return{center:r(n.map(function(t){return t.center*t.width}))/a,topY:n.reduce(function(t,e){return Math.min(t,e.top)},1/0),bottomY:n.reduce(function(t,e){return Math.max(t,e.bottom)},-1/0)}}}]),e}();function r(t){return t.reduce(function(t,e){return t+e})}function o(t){return r(t)/t.length}function s(t){for(var e,i=t.data,n=(t.height,4*t.width),a=0,h=0,r=3,o=i.length;r<o;r+=4){var s=Math.floor(r/n),c=i[r];c>0&&(void 0===e&&(e=s),h+=c*(s+.5),a+=c)}return void 0===e&&(e=0),{center:h/a,bottomY:l(t),topY:e}}function c(t){t.data,t.height,t.width;var e=u(t),i=l(t);return{center:Math.round((e+i)/2),bottomY:i,topY:e}}function u(t){for(var e=t.data,i=(t.height,4*t.width),n=3,a=e.length;n<a;n+=4){var h=Math.floor(n/i);if(e[n]>0)return h}return 0}function l(t){for(var e=t.data,i=t.height,n=4*t.width,a=e.length-1;a>0;a-=4){var h=Math.floor(a/n);if(e[a]>0)return h}return i-1}var f=h;exports.default=f;
},{}]},{},["GSOu"], "TextMeasurer")
//# sourceMappingURL=/TextMeasurer.min.map